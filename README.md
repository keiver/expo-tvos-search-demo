# expo-tvos-search Demo

A working demo app showcasing the [expo-tvos-search](https://github.com/keiver/expo-tvos-search) library on tvOS using Expo.

## What This Demo Shows

- Native tvOS search UI using SwiftUI's `.searchable` modifier
- Planet search with 8 planets (Mercury through Neptune)
- Real Wikipedia images for each planet
- Search filtering by planet name or description (try "giant" or "ice")
- Selection handling with native Alert
- Full Expo managed workflow with tvOS support

## Prerequisites

- macOS with Xcode installed
- Node.js 20+
- tvOS Simulator (comes with Xcode)

## Setup & Running

1. **Install dependencies:**
   ```bash
   npm install
   ```

2. **Generate native iOS/tvOS projects:**
   ```bash
   npm run prebuild
   ```
   This runs `EXPO_TV=1 npx expo prebuild --clean` which generates tvOS-enabled native projects.

3. **Start Metro and run on tvOS:**
   
   Open two terminals:
   
   Terminal 1 - Start Metro:
   ```bash
   npm start
   ```
   
   Terminal 2 - Launch tvOS simulator:
   ```bash
   npm run tvos
   ```

## Using the Demo

1. **Launch the app** - The search field should automatically focus
2. **Type a search query:**
   - `mars` → Shows Mars
   - `earth` → Shows Earth
   - `giant` → Shows Jupiter and Saturn (gas giants)
   - `ice` → Shows Uranus (ice giant)
3. **Navigate results** - Use the tvOS remote/trackpad to move between results
4. **Select a planet** - Press the center button to see an alert with planet details

## What to Search For

Try these search terms:
- Planet names: `mercury`, `venus`, `earth`, `mars`, `jupiter`, `saturn`, `uranus`, `neptune`
- Descriptions: `smallest`, `hottest`, `red`, `largest`, `giant`, `ice`, `windy`
- Partial matches work too: `mar` finds Mars, `urn` finds Saturn and Uranus

## Project Structure

```
.
├── App.tsx              # Main app component
├── SearchScreen.tsx     # Planet search screen using expo-tvos-search
├── app.json             # Expo config with @react-native-tvos/config-tv plugin
├── package.json         # Dependencies including expo-tvos-search
└── ios/                 # Native tvOS project (generated by prebuild)
```

## How This Works

This is an **Expo managed** app configured for tvOS:

1. **package.json** - Uses `react-native-tvos` instead of standard `react-native`
2. **app.json** - Has `@react-native-tvos/config-tv` in plugins array and `platforms: ["ios"]`
3. **Prebuild** - Running `EXPO_TV=1 npx expo prebuild` generates tvOS-enabled native projects
4. **Runtime** - The native module `expo-tvos-search` integrates seamlessly

## Troubleshooting

### Native module not found
If you see `requireNativeViewManager("ExpoTvosSearch") returned null`:
```bash
npm run prebuild
npm run tvos
```

### Prebuild fails
Make sure you have:
- `react-native-tvos` (not `react-native`) in dependencies
- `@react-native-tvos/config-tv` plugin in app.json
- `EXPO_TV=1` environment variable when running prebuild

### Search UI doesn't appear
Ensure you're running on Apple TV simulator, not iPhone/iPad simulator.

### "Scheme not found" error
After prebuild, Xcode creates both iOS and tvOS schemes. The `expo run:ios` command should auto-detect the tvOS scheme. If not, manually select it in Xcode.

## Learn More

- [expo-tvos-search on GitHub](https://github.com/keiver/expo-tvos-search)
- [expo-tvos-search on npm](https://www.npmjs.com/package/expo-tvos-search)
- [React Native tvOS](https://github.com/react-native-tvos/react-native-tvos)
- [Expo Prebuild](https://docs.expo.dev/workflow/prebuild/)

## License

MIT
